<%- include('header') -%>




    <div class="container">
        <div class="jumbotron">
            <h1>Order</h1>
        </div>
    </div>


    <div class="container">

        <form>
            <div class="form-group">


              <label for="suppliers">Supplier:
              <input id="suppliers" list="suppliers_list">
              <datalist id="suppliers_list">

              <% suppliers.forEach(function(item) { %>

              <option id="supplier_choice" value=<%= item["supplier_name"]%>></option>

              <% }); %>

              </datalist>
              </label>

              <label for="products">Product:
              <input id="products" list="products_list">
              <datalist id="products_list">
              </datalist>
              </label>

<!-- <select id="item">
</select> -->


        </form>

        </div>

        <script>
        <% suppliers.forEach(function(item) { %>
        <%= item["supplier_name"]%> = new Array([<% item["products"].forEach(function(thing) { %>
        "<%= thing["product_name"] %>" ,
        <% }); %>
        ]);
          <% }); %>

          <% suppliers.forEach(function(item) { %>
        <%= item["supplier_name"]%> = <%= item["supplier_name"]%>[0];
        <% }); %>

        // populateSelect();

        $("#suppliers").bind('input', function () {
          populateSelect();
        });
        //
        // $(function() {
        //       $('#suppliers').change(function(){
        //         populateSelect();
        //     });
        //
        // });



        function populateSelect(){
            cat=$('#suppliers').val();
            $('#products_list').html('');
               eval(cat).forEach(function(t) {
                    $('#products_list').append('<option>'+t+'</option>');
                });
            }

        </script>
        </body>
